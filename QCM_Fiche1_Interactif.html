<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>QCM interactif – Fiche 1</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .question { margin-bottom: 20px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; }
    .correction { display: none; margin-top: 10px; padding: 10px; background: #eef; border-left: 4px solid #88f; }
    .score { font-weight: bold; color: #004488; }
    .correct-label { color: green; font-weight: bold; }
    .incorrect-label { color: red; font-weight: bold; }
    .correct-label::before { content: "✔ "; }
    .incorrect-label::before { content: "✘ "; }
    button { margin-top: 10px; }
  </style>
</head>
<body>
  <h1>QCM interactif – Fiche 1 : Anatomie et physiologie de l'oreille interne</h1>
  <form id="quizForm"></form>
  <p id="finalScore" class="score"></p>

  <script>
    const questions = [
  {
    "question": "1. Quels éléments retrouve-t-on dans la scala media ?",
    "options": [
      "Endolymphe",
      "Organe de Corti",
      "Membrane tectoriale",
      "Fenêtre ronde",
      "Canal cochléaire postérieur"
    ],
    "correct": [
      0,
      1,
      2
    ],
    "correction": "✅ La scala media contient l’endolymphe, l’organe de Corti et la membrane tectoriale."
  },
  {
    "question": "2. À propos des cellules ciliées internes (CCI), quelles affirmations sont vraies ?",
    "options": [
      "Elles sont en trois rangées",
      "Environ 3500",
      "Innervées par des fibres afférentes de type I",
      "Responsables de l’amplification cochléaire",
      "Soutien par les cellules de Claudius"
    ],
    "correct": [
      1,
      2
    ],
    "correction": "✅ Les CCI sont en une seule rangée, environ 3500, innervées par les fibres afférentes de type I."
  },
  {
    "question": "3. Concernant les liquides cochléaires, lesquelles sont correctes ?",
    "options": [
      "L’endolymphe est riche en K⁺",
      "La périlymphe est riche en Na⁺",
      "Le potentiel est généré par la strie vasculaire",
      "Les liquides sont séparés par la lame spirale",
      "Les cellules ciliées internes baignent dans la périlymphe"
    ],
    "correct": [
      0,
      1,
      2
    ],
    "correction": "✅ L’endolymphe est riche en K⁺, la périlymphe en Na⁺. Le potentiel est généré par la strie vasculaire."
  },
  {
    "question": "4. Quelles sont les caractéristiques des fibres de type I du nerf auditif ?",
    "options": [
      "Myélinisées",
      "Innervent les CCE",
      "Représentent 90% des fibres",
      "Innervent les CCI",
      "Ont un rôle efférent"
    ],
    "correct": [
      0,
      2,
      3
    ],
    "correction": "✅ Les fibres de type I innervent les CCI, représentent 90 % et sont myélinisées."
  },
  {
    "question": "5. Quelles structures explorent les PEA (potentiels évoqués auditifs) ?",
    "options": [
      "Conduction rétrocochléaire",
      "Tronc cérébral",
      "Cortex auditif",
      "Strie vasculaire",
      "Oreille externe"
    ],
    "correct": [
      0,
      1
    ],
    "correction": "✅ Les PEA explorent la conduction rétrocochléaire jusqu’au tronc cérébral."
  },
  {
    "question": "6. Parmi ces structures, lesquelles séparent des compartiments cochléaires ?",
    "options": [
      "Membrane tectoriale",
      "Membrane basilaire",
      "Membrane de Reissner",
      "Membrane tympanique",
      "Ligament annulaire"
    ],
    "correct": [
      1,
      2
    ],
    "correction": "✅ La membrane basilaire et de Reissner séparent les compartiments cochléaires."
  },
  {
    "question": "7. Quels couples mutation/pathologie entraînent une neuropathie auditive ?",
    "options": [
      "GJB2 / surdité de perception",
      "Otoferline / neuropathie",
      "MITF / presbyacousie",
      "MYO7A / Ménière",
      "KCNQ4 / otospongiose"
    ],
    "correct": [
      1
    ],
    "correction": "✅ Neuropathie auditive et mutation de l’otoferline entraînent OEA+/PEA–."
  },
  {
    "question": "8. Où sont situés les corps cellulaires des neurones auditifs primaires ?",
    "options": [
      "Ganglion spiral",
      "Lame spirale osseuse",
      "Ganglion de Scarpa",
      "Tronc cérébral",
      "Organe de Corti"
    ],
    "correct": [
      0,
      1
    ],
    "correction": "✅ Le ganglion spiral contient les corps cellulaires sensoriels situés dans la lame spirale osseuse."
  },
  {
    "question": "9. La cochlée humaine contient environ combien de tours spiraux ?",
    "options": [
      "1",
      "1.5",
      "2",
      "2.5",
      "3"
    ],
    "correct": [
      3
    ],
    "correction": "✅ La cochlée humaine fait environ 2.5 tours spiraux en moyenne."
  },
  {
    "question": "10. Quelle structure est responsable du potentiel endocochléaire élevé dans la scala media ?",
    "options": [
      "Fenêtre ronde",
      "Membrane tectoriale",
      "Organe de Corti",
      "Strie vasculaire",
      "Ligament spiral"
    ],
    "correct": [
      3
    ],
    "correction": "✅ La strie vasculaire maintient un potentiel endocochléaire élevé (+80 mV)."
  },
  {
    "question": "11. Quels types de cellules sont principalement responsables de l’amplification cochléaire ?",
    "options": [
      "Cellules ciliées internes",
      "Cellules de Claudius",
      "Cellules de Hensen",
      "Cellules ciliées externes",
      "Cellules marginales"
    ],
    "correct": [
      3
    ],
    "correction": "✅ Les cellules ciliées externes participent à l’amplification active du signal sonore."
  },
  {
    "question": "12. Les otoémissions acoustiques (OEA) explorent principalement :",
    "options": [
      "La strie vasculaire",
      "Les cellules ciliées internes",
      "Les cellules ciliées externes",
      "Le nerf auditif",
      "Le cortex auditif"
    ],
    "correct": [
      2
    ],
    "correction": "✅ Les OEA reflètent l’activité mécanique des cellules ciliées externes."
  },
  {
    "question": "13. Quels ions sont majoritairement présents dans l’endolymphe ?",
    "options": [
      "Sodium",
      "Calcium",
      "Chlore",
      "Potassium",
      "Magnésium"
    ],
    "correct": [
      3
    ],
    "correction": "✅ L’endolymphe est riche en potassium, contrairement à la périlymphe."
  },
  {
    "question": "14. Les PEA (potentiels évoqués auditifs) permettent d’explorer :",
    "options": [
      "Le tympan",
      "La cochlée uniquement",
      "Le nerf auditif et le tronc cérébral",
      "Le cortex auditif",
      "Les cellules ciliées"
    ],
    "correct": [
      2
    ],
    "correction": "✅ Les PEA permettent d’évaluer la conduction jusqu’au tronc cérébral (ondes I à V)."
  },
  {
    "question": "15. La membrane tectoriale repose sur :",
    "options": [
      "La lame basilaire",
      "Les cellules ciliées externes",
      "Les piliers de Corti",
      "Les cellules de Claudius",
      "La membrane de Reissner"
    ],
    "correct": [
      2
    ],
    "correction": "✅ Elle repose sur l’organe de Corti, dont font partie les piliers."
  },
  {
    "question": "16. La périlymphe est un liquide contenu dans :",
    "options": [
      "Scala vestibuli et scala tympani",
      "Scala media",
      "Organe de Corti",
      "Canaux semi-circulaires",
      "Canal cochléaire"
    ],
    "correct": [
      0
    ],
    "correction": "✅ La périlymphe est contenue dans les compartiments externes de la cochlée."
  },
  {
    "question": "17. Quelle est la fréquence caractéristique à la base de la cochlée ?",
    "options": [
      "250 Hz",
      "500 Hz",
      "1 kHz",
      "4 kHz",
      "16 kHz"
    ],
    "correct": [
      4
    ],
    "correction": "✅ Les hautes fréquences (jusqu’à 16 kHz) sont codées à la base de la cochlée."
  },
  {
    "question": "18. L’organe de Corti repose sur :",
    "options": [
      "La membrane tectoriale",
      "La lame spirale osseuse",
      "La membrane de Reissner",
      "La lame basilaire",
      "La fenêtre ovale"
    ],
    "correct": [
      3
    ],
    "correction": "✅ L’organe de Corti repose sur la membrane basilaire."
  },
  {
    "question": "19. Le ganglion spiral contient :",
    "options": [
      "Les corps cellulaires des fibres efférentes",
      "Les noyaux des cellules ciliées",
      "Les cellules sensorielles",
      "Les corps cellulaires des neurones auditifs",
      "Les capteurs vestibulaires"
    ],
    "correct": [
      3
    ],
    "correction": "✅ Le ganglion spiral contient les corps cellulaires des neurones auditifs (1er neurone)."
  },
  {
    "question": "20. Quelle structure sépare la scala media de la scala vestibuli ?",
    "options": [
      "La strie vasculaire",
      "La lame basilaire",
      "La membrane tectoriale",
      "La membrane de Reissner",
      "L’organe de Corti"
    ],
    "correct": [
      3
    ],
    "correction": "✅ La membrane de Reissner (vestibulaire) sépare scala media et scala vestibuli."
  }
];

    const form = document.getElementById('quizForm');
    questions.forEach((q, index) => {
      const div = document.createElement('div');
      div.className = 'question';
      div.innerHTML = `<p><strong>${q.question}</strong></p>`;
      q.options.forEach((opt, i) => {
        const id = `q${index}_opt${i}`;
        div.innerHTML += `<label id="label_${id}"><input type="checkbox" name="q${index}" value="${i}" id="${id}"> ${opt}</label><br>`;
      });
      div.innerHTML += `<button type="button" onclick="validate(${index})">Valider</button>
                        <div class="correction" id="correction${index}"></div>`;
      form.appendChild(div);
    });

    let scores = Array(questions.length).fill(0);

    function validate(index) {
      const checkboxes = document.querySelectorAll(`input[name='q${index}']`);
      const userAnswers = [];
      checkboxes.forEach(cb => {
        const label = document.getElementById(`label_${cb.id}`);
        label.classList.remove("correct-label", "incorrect-label");
        if (cb.checked) userAnswers.push(parseInt(cb.value));
      });

      const correct = questions[index].correct.sort();
      const selected = [...userAnswers].sort();

      const missed = correct.filter(v => !selected.includes(v)).length;
      const incorrect = selected.filter(v => !correct.includes(v)).length;
      const totalErrors = missed + incorrect;

      let score = 0;
      if (totalErrors === 0) {
        score = 1;
      } else if (totalErrors === 1) {
        score = 0.5;
      } else {
        score = 0;
      }

      scores[index] = score;

      checkboxes.forEach(cb => {
        const label = document.getElementById(`label_${cb.id}`);
        const val = parseInt(cb.value);
        if (correct.includes(val)) {
          label.classList.add("correct-label");
        } else if (cb.checked) {
          label.classList.add("incorrect-label");
        }
      });

      const corrDiv = document.getElementById(`correction${index}`);
      corrDiv.style.display = 'block';
      corrDiv.innerHTML = `<p class="score">Score: ${score}/1</p><p>${questions[index].correction}</p>`;
    }

    const showScoreBtn = document.createElement('button');
    showScoreBtn.textContent = 'Afficher le score total';
    showScoreBtn.type = 'button';
    showScoreBtn.onclick = function () {
      const total = scores.reduce((a, b) => a + b, 0);
      document.getElementById('finalScore').textContent = `Score total : ${total.toFixed(1)} / ${questions.length}`;
    };
    form.appendChild(showScoreBtn);
  </script>
</body>
</html>
